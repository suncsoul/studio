
"use client";

import { Button } from "./ui/button";
import { auth } from "@/lib/firebase";
import { GoogleAuthProvider, signInWithPopup, OAuthProvider } from "firebase/auth";


const GoogleIcon = () => (
  <svg className="mr-2 h-4 w-4" viewBox="0 0 24 24">
    <path
      fill="#4285F4"
      d="M21.35,11.1H12.18V13.83H18.69C18.36,17.64 15.19,19.27 12.19,19.27C8.36,19.27 5,16.25 5,12C5,7.75 8.36,4.73 12.19,4.73C14.03,4.73 15.6,5.33 16.85,6.45L19.05,4.25C17.02,2.38 14.71,1.36 12.19,1.36C6.9,1.36 2.5,6.17 2.5,12C2.5,17.83 6.9,22.64 12.19,22.64C17.63,22.64 21.6,18.5 21.6,12.28C21.6,11.82 21.49,11.45 21.35,11.1Z"
    />
  </svg>
);

const AppleIcon = () => (
    <svg className="mr-2 h-4 w-4" viewBox="0 0 24 24">
        <path fill="currentColor" d="M19.3,4.41C17.38,4.34 15.89,5.33 15,6.33C14.1,5.33 12.6,4.35 10.7,4.41C8.28,4.44 6,6.23 6,8.9C6,12.05 8.5,14.05 11.23,14.05C12.35,14.05 13.5,13.5 14.5,13C15.5,13.5 16.65,14.05 17.77,14.05C20.5,14.05 23,12.05 23,8.9C23,6.23 20.72,4.44 18.3,4.41M12,2C12.42,2 12.83,2.03 13.24,2.08C13.64,2.13 14.05,2.2 14.45,2.29C14.85,2.38 15.24,2.48 15.63,2.6C16,2.71 16.37,2.83 16.73,2.95C17.09,3.08 17.44,3.22 17.79,3.36C18.14,3.5 18.48,3.65 18.82,3.81C19.16,3.97 19.49,4.14 19.81,4.31C20.13,4.48 20.44,4.66 20.75,4.84C21.05,5.02 21.34,5.22 21.63,5.41C21.91,5.6 22.19,5.81 22.45,6C22.71,6.2 22.97,6.4 23.21,6.6C23.45,6.8 23.68,7 23.9,7.2C24.12,7.4 24.33,7.6 24.53,7.8C24.73,8 24.91,8.2 25.08,8.4C25.25,8.6 25.42,8.8 25.56,9C25.7,9.2 25.84,9.4 25.96,9.6C26.08,9.8 26.19,10 26.29,10.2C26.38,10.4 26.47,10.6 26.54,10.8C26.61,11 26.68,11.2 26.73,11.4C26.78,11.6 26.83,11.8 26.86,12C26.87,12.07 26.88,12.13 26.88,12.2C26.88,12.27 26.87,12.33 26.86,12.4C26.83,12.6 26.78,12.8 26.73,13C26.68,13.2 26.61,13.4 26.54,13.6C26.47,13.8 26.38,14 26.29,14.2C26.19,14.4 26.08,14.6 25.96,14.8C25.84,15 25.7,15.2 25.56,15.4C25.42,15.6 25.25,15.8 25.08,16C24.91,16.2 24.73,16.4 24.53,16.6C24.33,16.8 24.12,17 23.9,17.2C23.68,17.4 23.45,17.6 23.21,17.8C22.97,18 22.71,18.2 22.45,18.4C22.19,18.59 21.91,18.8 21.63,19C21.34,19.18 21.05,19.38 20.75,19.56C20.44,19.74 20.13,19.92 19.81,20.09C19.49,20.26 19.16,20.43 18.82,20.59C18.48,20.75 18.14,20.9 17.79,21.04C17.44,21.18 17.09,21.32 16.73,21.45C16.37,21.57 16,21.69 15.63,21.8C15.24,21.92 14.85,22.02 14.45,22.11C14.05,22.2 13.64,22.27 13.24,22.32C12.83,22.37 12.42,22.4 12,22.4C11.58,22.4 11.17,22.37 10.76,22.32C10.36,22.27 9.95,22.2 9.55,22.11C9.15,22.02 8.76,21.92 8.37,21.8C8,21.69 7.63,21.57 7.27,21.45C6.91,21.32 6.56,21.18 6.21,21.04C5.86,20.9 5.52,20.75 5.18,20.59C4.84,20.43 4.51,20.26 4.19,20.09C3.87,19.92 3.56,19.74 3.25,19.56C2.95,19.38 2.66,19.18 2.37,19C2.09,18.8 1.81,18.59 1.55,18.4C1.29,18.2 1.03,18 0.79,17.8C0.55,17.6 0.32,17.4 0.1,17.2C-0.12,17 -0.33,16.8 -0.53,16.6C-0.73,16.4 -0.91,16.2 -1.08,16C-1.25,15.8 -1.42,15.6 -1.56,15.4C-1.7,15.2 -1.84,15 -1.96,14.8C-2.08,14.6 -2.19,14.4 -2.29,14.2C-2.38,14 -2.47,13.8 -2.54,13.6C-2.61,13.4 -2.68,13.2 -2.73,13C-2.78,12.8 -2.83,12.6 -2.86,12.4C-2.87,12.33 -2.88,12.27 -2.88,12.2C-2.88,12.13 -2.87,12.07 -2.86,12C-2.83,11.8 -2.78,11.6 -2.73,11.4C-2.68,11.2 -2.61,11 -2.54,10.8C-2.47,10.6 -2.38,10.4 -2.29,10.2C-2.19,10 -2.08,9.8 -1.96,9.6C-1.84,9.4 -1.7,9.2 -1.56,9C-1.42,8.8 -1.25,8.6 -1.08,8.4C-0.91,8.2 -0.73,8 -0.53,7.8C-0.33,7.6 -0.12,7.4 0.1,7.2C0.32,7 0.55,6.8 0.79,6.6C1.03,6.4 1.29,6.2 1.55,6C1.81,5.81 2.09,5.6 2.37,5.4C2.66,5.22 2.95,5.02 3.25,4.84C3.56,4.66 3.87,4.48 4.19,4.31C4.51,4.14 4.84,3.97 5.18,3.81C5.52,3.65 5.86,3.5 6.21,3.36C6.56,3.22 6.91,3.08 7.27,2.95C7.63,2.83 8,2.71 8.37,2.6C8.76,2.48 9.15,2.38 9.55,2.29C9.95,2.2 10.36,2.13 10.76,2.08C11.17,2.03 11.58,2 12,2Z" transform="translate(-2.5, -2)"/>
    </svg>
);


export function SocialButtons() {
    
    const handleGoogleLogin = () => {
        const provider = new GoogleAuthProvider();
        signInWithPopup(auth, provider).catch((error) => {
            console.error("Google login error", error);
        });
    }

    const handleAppleLogin = () => {
        const provider = new OAuthProvider('apple.com');
        signInWithPopup(auth, provider).catch((error) => {
            console.error("Apple login error", error);
        });
    }

  return (
    <div className="grid grid-cols-2 gap-4">
      <Button variant="outline" onClick={handleGoogleLogin}>
        <GoogleIcon />
        Google
      </Button>
      <Button variant="outline" onClick={handleAppleLogin}>
        <AppleIcon />
        Apple
      </Button>
    </div>
  );
}
